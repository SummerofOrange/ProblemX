# 更新日志

## v1.2 (latest)

  - **重构图片处理逻辑**：
    - 彻底移除旧版字符串形式的 `image` 字段支持，统一使用对象格式（如 `{"img1": "path"}`）
    - 移除代码中的绝对路径回退逻辑，强制使用相对路径或 Markdown 引用
    - 优化 Markdown 图片渲染，支持通过 `![](img1)` 等键名直接引用图片
  - **优化选择题渲染**：
    - 修复选择题选项高度不自适应的问题，现在选项框高度会根据内容自动调整
    - 选择题选项全面支持 Markdown 和 LaTeX 数学公式渲染
    - 解决选项内容过长时的遮挡问题，引入最大高度限制和滚动条
    - 题库编辑器中的选项输入框升级为 `QTextEdit`，支持多行输入和富文本编辑
  - **新增辅助工具**：
    - 新增旧题库转换脚本 `convert_old_problembank.py`，用于批量将旧版 JSON 题库转换为新版格式



## V1.1

- 修复了markdown渲染问题，包括换行和代码块的渲染
- 修复了`[]`内容会被作为数学公式渲染的问题
- 修复了导入错题时会出现丢失的问题
- 修复了切换题目时，作答痕迹会消失的bug

## v1.0

  - **新增题库编辑功能**：全新的题库编辑器，支持创建、编辑和管理各种题型的题目
  - **新增题库预览功能**：实时预览题目内容和格式，确保题目显示效果
  - **支持多题型编辑**：完整支持选择题、判断题、多选题和填空题的编辑
  - **智能题库管理**：自动识别题库文件路径，支持从配置文件中读取科目路径
  - **增强用户体验**：提供直观的编辑界面和实时预览，简化题库创建流程
  - **完善错误处理**：添加详细的调试信息和用户友好的错误提示

## Beta 0.3

  - **新增Markdown渲染支持**：集成Qt WebEngine模块，支持在题目中使用Markdown格式，包括粗体、斜体、代码块、列表等格式
  - **新增LaTeX数学公式支持**：集成KaTeX引擎，支持在题目中渲染LaTeX数学公式，提升数学类题目的显示效果
  - **优化题目显示**：通过`MarkdownRenderer`类提供更好的题目内容渲染体验
  - **新增自动适配大小功能**：`MarkdownRenderer`组件现在支持根据内容长度自动调整高度，同时确保不超出主窗口范围
  - **改进用户体验**：题面和选项渲染器能够智能适配内容大小，提供更好的视觉效果
  - **修复渲染问题**：完全重构了LaTeX公式和代码块的处理逻辑，摒弃占位符机制，直接在解析过程中处理内容
  - **改进依赖管理**：添加Qt WebEngine模块依赖，确保Markdown和LaTeX功能正常运行

## Beta 0.2(2025/05/31)

  - 修复了练习模块 (`practicewidget.cpp`) 和错题复习模块 (`reviewwidget.cpp`) 中，当题目文本（如代码片段）包含特殊HTML字符（例如 `<`, `>`）时，可能导致的题目显示不完整或渲染异常的问题。通过在 `updateQuestionDisplay` 和 `displayWrongAnswerDetails` 方法中对这些特殊字符进行转义，确保了题目内容的正确渲染。